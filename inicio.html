<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Bienvenido ‚Äî Rin Itoshi</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body,html{width:100%;height:100%;overflow:hidden;font-family:'Arial',sans-serif;background:#0f172a;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#fff;position:relative;}

canvas{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}

h1{
  font-size:32px;
  font-weight:700;
  margin-bottom:20px;
  text-align:center;
  z-index:1;
  min-height:40px;
  color:#fff;
  text-shadow:0 0 10px #7c3aed,0 0 20px #4f46e5,0 0 30px #c084fc;
  animation: glow 1.5s ease-in-out infinite alternate;
}

@keyframes glow{
  0%{text-shadow:0 0 10px #7c3aed,0 0 20px #4f46e5,0 0 30px #c084fc;}
  100%{text-shadow:0 0 20px #c084fc,0 0 30px #a78bfa,0 0 40px #7c3aed;}
}

/* Spinner 3D ne√≥n */
.spinner{
  width:80px;
  height:80px;
  border:8px solid rgba(255,255,255,0.1);
  border-top:8px solid #7c3aed;
  border-radius:50%;
  animation:spin 1s linear infinite,neon 1.5s ease-in-out infinite alternate;
  margin-bottom:15px;
  z-index:1;
  box-shadow:0 0 20px #7c3aed,0 0 35px #4f46e5,0 0 50px #c084fc;
}

@keyframes spin{to{transform:rotate(360deg);}}
@keyframes neon{0%{box-shadow:0 0 20px #7c3aed,0 0 35px #4f46e5,0 0 50px #c084fc;}100%{box-shadow:0 0 35px #c084fc,0 0 50px #a78bfa,0 0 70px #7c3aed;}}

.progress-container{
  width:220px;
  height:12px;
  background:rgba(255,255,255,0.1);
  border-radius:6px;
  overflow:hidden;
  z-index:1;
  margin-top:5px;
}

.progress-bar{
  width:0%;
  height:100%;
  background:linear-gradient(90deg,#7c3aed,#c084fc,#a78bfa);
  border-radius:6px;
  transition:width 0.2s ease;
}

.progress-text{
  font-size:14px;
  color:#cbd5e1;
  margin-top:5px;
  z-index:1;
  text-align:center;
  text-shadow:0 0 5px #7c3aed;
}

.fade-out{animation:fadeOut 0.8s forwards;}
@keyframes fadeOut{to{opacity:0;}}
</style>
</head>
<body>

<canvas id="bgCanvas"></canvas>
<h1 id="welcomeText"></h1>
<div class="spinner"></div>
<div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
<div class="progress-text" id="progressText">0%</div>

<script>
/* ==== Part√≠culas constelaci√≥n con efecto energ√≠a ==== */
const canvas=document.getElementById('bgCanvas');
const ctx=canvas.getContext('2d');
let width=canvas.width=window.innerWidth;
let height=canvas.height=window.innerHeight;

const particles=[];
const numParticles=150;
let mouse={x:width/2,y:height/2};

for(let i=0;i<numParticles;i++){
  particles.push({
    x:Math.random()*width,
    y:Math.random()*height,
    r:Math.random()*2+1,
    dx:(Math.random()-0.5)*0.7,
    dy:(Math.random()-0.5)*0.7
  });
}

function animateParticles(){
  ctx.clearRect(0,0,width,height);
  for(let i=0;i<numParticles;i++){
    const p=particles[i];
    p.x+=p.dx;p.y+=p.dy;
    if(p.x<0||p.x>width)p.dx*=-1;
    if(p.y<0||p.y>height)p.dy*=-1;

    // interacci√≥n mouse
    const distX=p.x-mouse.x;
    const distY=p.y-mouse.y;
    const dist=Math.sqrt(distX*distX+distY*distY);
    if(dist<120){p.x+=distX*0.008;p.y+=distY*0.008;}

    // dibujar part√≠culas
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
    ctx.fillStyle='rgba(124,58,237,0.8)';
    ctx.fill();

    // l√≠neas tipo energ√≠a
    for(let j=i+1;j<numParticles;j++){
      const p2=particles[j];
      const dx=p.x-p2.x;
      const dy=p.y-p2.y;
      const distance=Math.sqrt(dx*dx+dy*dy);
      if(distance<110){
        ctx.beginPath();
        ctx.strokeStyle=`rgba(196,181,253,${1-distance/110})`;
        ctx.moveTo(p.x,p.y);
        ctx.lineTo(p2.x,p2.y);
        ctx.stroke();
      }
    }
  }
  requestAnimationFrame(animateParticles);
}
animateParticles();

window.addEventListener('resize',()=>{width=canvas.width=window.innerWidth;height=canvas.height=window.innerHeight;});
window.addEventListener('mousemove',(e)=>{mouse.x=e.clientX;mouse.y=e.clientY;});

/* ==== M√°quina de escribir con glow ==== */
const text="üå∏ Bienvenido a Rin Itoshi";
const welcomeText=document.getElementById('welcomeText');
let index=0;
function typeWriter(){
  if(index<text.length){
    welcomeText.innerHTML+=text.charAt(index);
    index++;
    setTimeout(typeWriter,45);
  }
}
typeWriter();

/* ==== Barra de progreso fluida ==== */
const progressBar=document.getElementById('progressBar');
const progressText=document.getElementById('progressText');
let progress=0;
const interval=setInterval(()=>{
  progress+=Math.floor(Math.random()*3)+1;
  if(progress>100)progress=100;
  progressBar.style.width=progress+'%';
  progressText.innerHTML=progress+'%';
  if(progress===100){
    clearInterval(interval);
    document.body.classList.add('fade-out');
    setTimeout(()=>window.location.href='index.html',800);
  }
},80);

</script>
</body>
</html>
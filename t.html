<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Terminal Chida</title>
<link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
<style>
    body {
        margin: 0;
        height: 100vh;
        background: #0d0d0d;
        color: #00ff00;
        font-family: 'Fira Code', monospace;
        display: flex;
        flex-direction: column;
    }
    #terminal {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
        white-space: pre-wrap;
    }
    #inputArea {
        display: flex;
        padding: 10px;
        background: #111;
        border-top: 2px solid #00ff00;
    }
    #cmdInput {
        flex: 1;
        background: transparent;
        border: none;
        color: #00ff00;
        font-family: 'Fira Code', monospace;
        font-size: 16px;
        outline: none;
    }
    #executeBtn {
        padding: 0 15px;
        background: #00ff00;
        color: #000;
        border: none;
        cursor: pointer;
        font-weight: bold;
        font-family: 'Fira Code', monospace;
    }
</style>
</head>
<body>

<div id="terminal">游눹 Bienvenido a tu Terminal Chida!\n</div>

<div id="inputArea">
    <input type="text" id="cmdInput" placeholder="Escribe un comando..." autofocus />
    <button id="executeBtn">Ejecutar</button>
</div>

<script>
const terminal = document.getElementById('terminal');
const cmdInput = document.getElementById('cmdInput');
const executeBtn = document.getElementById('executeBtn');

// Funci칩n para a침adir texto a la terminal
function printToTerminal(text) {
    terminal.textContent += text + '\n';
    terminal.scrollTop = terminal.scrollHeight;
}

// Funci칩n para ejecutar comando (env칤a al backend)
async function executeCommand(cmd) {
    printToTerminal(`> ${cmd}`);
    try {
        // Llamada al backend Node.js/Python que ejecute el comando
        const response = await fetch('/execute', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ command: cmd })
        });
        const data = await response.text();
        printToTerminal(data);
    } catch (err) {
        printToTerminal(`Error: ${err}`);
    }
}

// Ejecutar al presionar bot칩n
executeBtn.addEventListener('click', () => {
    const cmd = cmdInput.value.trim();
    if(cmd) {
        executeCommand(cmd);
        cmdInput.value = '';
    }
});

// Ejecutar al presionar Enter
cmdInput.addEventListener('keydown', (e) => {
    if(e.key === 'Enter') {
        executeBtn.click();
    }
});
</script>

</body>
</html>